# LOCAL ACCOUNTS (CLAIMS)

The GOC IDPs will only provide a PAI token to the B2C. This means that B2C will be informed that the user has successfully authenticated to one of the IDPs and the only information returned to B2C from the IDP is a token that uniquely identifies the user. Once a token arrives to B2C, B2C will first try and match this value in its storage and if not found will treat this user as a new user and prompt them to provide more information such as their email, first name, last name. If the returning token is found, B2C will simply redirect the user back to the application along with the associated email, first name and last name so that the integrated application knows who the person is and can therefore assign them a session under their user context. For the initial implementation, B2C will not be responsible to gather any claims once it receives a token, instead it will simply store the token and redirect the user to the integrated application where this application will be responsible to gather additional claims such as email, first name and last name plus any additional information that is needed for the application itself. The next time this user signs in, B2C redirects the user to the integration web application and if this application finds this user by its token in its own storage, then the user will not be directed to fill in profile information (unless the application flow forces a user to confirm their profile information before accessing the application). Both options will be implemented in the Department – the benefit of requiring the user to provide their profile information in B2C is that the Department can now share additional claims beyond just the PAI between multiple applications and therefore streamline the user experience by eliminating the need for that same user to enter profile information multiple times in different applications despite using applications within the same Department. For the enterprise profile, only a limited set of fields (claims) will be populated by a user and integrated apps will receive this information and can opt to ask the user for more profile information that is specific to their app’s domain (e.g. a permit application might be interested in knowing which company the user works for, whereas a travel permit or visa application might be interested in obtaining the user’s DOB – these claims would not be captured in B2C but instead directly in the app). 
